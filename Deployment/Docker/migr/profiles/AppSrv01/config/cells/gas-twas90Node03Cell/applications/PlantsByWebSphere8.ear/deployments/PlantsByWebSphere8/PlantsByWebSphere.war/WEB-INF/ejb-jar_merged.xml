<?xml version="1.0" encoding="UTF-8"?><ejb-jar id="ejb-jar_ID" metadata-complete="false" version="3.1" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd">
    <enterprise-beans>
        <session>
            <ejb-name>CatalogMgr</ejb-name>
            <ejb-class>com.ibm.websphere.samples.pbw.ejb.CatalogMgr</ejb-class>
            <session-type>Stateless</session-type>
            <concurrency-management-type>Container</concurrency-management-type>
            <local-bean/>
            <persistence-context-ref>
                <persistence-context-ref-name>com.ibm.websphere.samples.pbw.ejb.CatalogMgr/em</persistence-context-ref-name>
                <persistence-unit-name>PBW</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.CatalogMgr</injection-target-class>
                    <injection-target-name>em</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
        <session>
            <ejb-name>BackOrderMgr</ejb-name>
            <ejb-class>com.ibm.websphere.samples.pbw.ejb.BackOrderMgr</ejb-class>
            <session-type>Stateless</session-type>
            <concurrency-management-type>Container</concurrency-management-type>
            <local-bean/>
            <persistence-context-ref>
                <persistence-context-ref-name>com.ibm.websphere.samples.pbw.ejb.BackOrderMgr/em</persistence-context-ref-name>
                <persistence-unit-name>PBW</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.BackOrderMgr</injection-target-class>
                    <injection-target-name>em</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
        <session>
            <ejb-name>SuppliersBean</ejb-name>
            <ejb-class>com.ibm.websphere.samples.pbw.ejb.SuppliersBean</ejb-class>
            <session-type>Stateless</session-type>
            <concurrency-management-type>Container</concurrency-management-type>
            <local-bean/>
            <persistence-context-ref>
                <persistence-context-ref-name>com.ibm.websphere.samples.pbw.ejb.SuppliersBean/em</persistence-context-ref-name>
                <persistence-unit-name>PBW</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.SuppliersBean</injection-target-class>
                    <injection-target-name>em</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
        <session>
            <ejb-name>CustomerMgr</ejb-name>
            <ejb-class>com.ibm.websphere.samples.pbw.ejb.CustomerMgr</ejb-class>
            <session-type>Stateless</session-type>
            <concurrency-management-type>Container</concurrency-management-type>
            <local-bean/>
            <persistence-context-ref>
                <persistence-context-ref-name>com.ibm.websphere.samples.pbw.ejb.CustomerMgr/em</persistence-context-ref-name>
                <persistence-unit-name>PBW</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.CustomerMgr</injection-target-class>
                    <injection-target-name>em</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
        <session>
            <ejb-name>MailerBean</ejb-name>
            <ejb-class>com.ibm.websphere.samples.pbw.ejb.MailerBean</ejb-class>
            <session-type>Stateless</session-type>
            <concurrency-management-type>Container</concurrency-management-type>
            <local-bean/>
            <resource-ref>
                <res-ref-name>mail/mail-service</res-ref-name>
                <res-type>javax.mail.Session</res-type>
                <res-auth>Container</res-auth>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.MailerBean</injection-target-class>
                    <injection-target-name>mailSession</injection-target-name>
                </injection-target>
            </resource-ref>
            <persistence-context-ref>
                <persistence-context-ref-name>com.ibm.websphere.samples.pbw.ejb.MailerBean/em</persistence-context-ref-name>
                <persistence-unit-name>PBW</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.MailerBean</injection-target-class>
                    <injection-target-name>em</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
        <session>
            <ejb-name>ResetDBBean</ejb-name>
            <ejb-class>com.ibm.websphere.samples.pbw.ejb.ResetDBBean</ejb-class>
            <session-type>Stateless</session-type>
            <concurrency-management-type>Container</concurrency-management-type>
            <local-bean/>
            <ejb-local-ref>
                <ejb-ref-name>com.ibm.websphere.samples.pbw.ejb.ResetDBBean/customer</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <local>com.ibm.websphere.samples.pbw.ejb.CustomerMgr</local>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.ResetDBBean</injection-target-class>
                    <injection-target-name>customer</injection-target-name>
                </injection-target>
            </ejb-local-ref>
            <ejb-local-ref>
                <ejb-ref-name>com.ibm.websphere.samples.pbw.ejb.ResetDBBean/suppliers</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <local>com.ibm.websphere.samples.pbw.ejb.SuppliersBean</local>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.ResetDBBean</injection-target-class>
                    <injection-target-name>suppliers</injection-target-name>
                </injection-target>
            </ejb-local-ref>
            <ejb-local-ref>
                <ejb-ref-name>com.ibm.websphere.samples.pbw.ejb.ResetDBBean/cart</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <local>com.ibm.websphere.samples.pbw.ejb.ShoppingCartBean</local>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.ResetDBBean</injection-target-class>
                    <injection-target-name>cart</injection-target-name>
                </injection-target>
            </ejb-local-ref>
            <ejb-local-ref>
                <ejb-ref-name>com.ibm.websphere.samples.pbw.ejb.ResetDBBean/backOrderStock</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <local>com.ibm.websphere.samples.pbw.ejb.BackOrderMgr</local>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.ResetDBBean</injection-target-class>
                    <injection-target-name>backOrderStock</injection-target-name>
                </injection-target>
            </ejb-local-ref>
            <ejb-local-ref>
                <ejb-ref-name>com.ibm.websphere.samples.pbw.ejb.ResetDBBean/catalog</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <local>com.ibm.websphere.samples.pbw.ejb.CatalogMgr</local>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.ResetDBBean</injection-target-class>
                    <injection-target-name>catalog</injection-target-name>
                </injection-target>
            </ejb-local-ref>
            <persistence-context-ref>
                <persistence-context-ref-name>com.ibm.websphere.samples.pbw.ejb.ResetDBBean/em</persistence-context-ref-name>
                <persistence-unit-name>PBW</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.ResetDBBean</injection-target-class>
                    <injection-target-name>em</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
        <session>
            <ejb-name>ShoppingCartBean</ejb-name>
            <ejb-class>com.ibm.websphere.samples.pbw.ejb.ShoppingCartBean</ejb-class>
            <session-type>Stateful</session-type>
            <concurrency-management-type>Container</concurrency-management-type>
            <local-bean/>
            <stateful-timeout>
                <timeout>10</timeout>
            </stateful-timeout>
            <persistence-context-ref>
                <persistence-context-ref-name>com.ibm.websphere.samples.pbw.ejb.ShoppingCartBean/em</persistence-context-ref-name>
                <persistence-unit-name>PBW</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <injection-target>
                    <injection-target-class>com.ibm.websphere.samples.pbw.ejb.ShoppingCartBean</injection-target-class>
                    <injection-target-name>em</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
    </enterprise-beans>
    <assembly-descriptor>
        <security-role>
            <role-name>SampAdmin</role-name>
        </security-role>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>setBackOrderOrderDate</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>ResetDBBean</ejb-name>
                <method-name>resetDB</method-name>
                <method-params/>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>getBackOrderInventoryID</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>ResetDBBean</ejb-name>
                <method-name>populateDB</method-name>
                <method-params/>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>setBackOrderStatus</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>deleteBackOrder</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>setBackOrderQuantity</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                    <method-param>int</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>createBackOrder</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                    <method-param>int</method-param>
                    <method-param>int</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>updateStock</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                    <method-param>int</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>findBackOrders</method-name>
                <method-params/>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>BackOrderMgr</ejb-name>
                <method-name>getBackOrderQuantity</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>ResetDBBean</ejb-name>
                <method-name>deleteAll</method-name>
                <method-params/>
            </method>
        </method-permission>
        <method-permission>
            <role-name>SampAdmin</role-name>
            <method>
                <ejb-name>ResetDBBean</ejb-name>
                <method-name>addImage</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                    <method-param>java.lang.String</method-param>
                    <method-param>com.ibm.websphere.samples.pbw.ejb.CatalogMgr</method-param>
                </method-params>
            </method>
        </method-permission>
    </assembly-descriptor>
</ejb-jar>